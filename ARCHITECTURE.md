# GitHub Chatbot Integration Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User Interface                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Frappe Web UI (Browser)                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Navbar    â”‚  â”‚    Chatbot Dropdown Window       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  [ğŸ¤– Icon] â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  Chat Messages             â”‚  â”‚   â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚  â€¢ User messages (right)   â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â€¢ Bot messages (left)     â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Float     â”‚  â”‚  â”‚  â€¢ Markdown formatted      â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Button    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  [ğŸ¤–]      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  Input Area                â”‚  â”‚   â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚  [Type message...] [Send]  â”‚  â”‚   â”‚  â”‚
â”‚  â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚
â”‚  â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ JavaScript (chatbot.js)
                              â”‚ frappe.call()
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frappe Backend (Python)                    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  itchamps/api/chatbot.py                                 â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  @frappe.whitelist()                                     â”‚  â”‚
â”‚  â”‚  def get_response(message):                              â”‚  â”‚
â”‚  â”‚      â”‚                                                    â”‚  â”‚
â”‚  â”‚      â”œâ”€â–º handle_github_query(message)                    â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€â–º "repo info" â†’ get_repository_info()         â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€â–º "commits" â†’ get_commits()                   â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€â–º "issues" â†’ get_issues()                     â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€â–º "pull requests" â†’ get_pull_requests()       â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€â–º "branches" â†’ get_branches()                 â”‚  â”‚
â”‚  â”‚      â”‚   â””â”€â–º "contributors" â†’ get_contributors()         â”‚  â”‚
â”‚  â”‚      â”‚                                                    â”‚  â”‚
â”‚  â”‚      â”œâ”€â–º handle_leave_query(message, employee)           â”‚  â”‚
â”‚  â”‚      â”œâ”€â–º handle_manager_query(employee)                  â”‚  â”‚
â”‚  â”‚      â””â”€â–º handle_employee_search(message)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  itchamps/api/github_helper.py                          â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  class GitHubHelper:                                     â”‚  â”‚
â”‚  â”‚      owner = "Nusrath02"                                 â”‚  â”‚
â”‚  â”‚      repo = "itchamps"                                   â”‚  â”‚
â”‚  â”‚      base_url = "https://api.github.com"                â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      def _make_request(endpoint, method="GET"):          â”‚  â”‚
â”‚  â”‚          url = f"{base_url}/repos/{owner}/{repo}{endpoint}"â”‚
â”‚  â”‚          headers = {"Authorization": f"token {token}"}   â”‚  â”‚
â”‚  â”‚          response = requests.get(url, headers)           â”‚  â”‚
â”‚  â”‚          return response.json()                          â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      Methods:                                            â”‚  â”‚
â”‚  â”‚      â€¢ get_repository_info()                             â”‚  â”‚
â”‚  â”‚      â€¢ get_commits(limit)                                â”‚  â”‚
â”‚  â”‚      â€¢ get_issues(state, limit)                          â”‚  â”‚
â”‚  â”‚      â€¢ get_pull_requests(state, limit)                   â”‚  â”‚
â”‚  â”‚      â€¢ get_branches(limit)                               â”‚  â”‚
â”‚  â”‚      â€¢ get_contributors(limit)                           â”‚  â”‚
â”‚  â”‚      â€¢ search_code(query, limit)                         â”‚  â”‚
â”‚  â”‚      â€¢ get_file_content(file_path)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTPS Request
                              â”‚ GET/POST with headers
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GitHub REST API v3                         â”‚
â”‚                   https://api.github.com                        â”‚
â”‚                                                                 â”‚
â”‚  Endpoints:                                                     â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}                                    â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/commits                            â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/issues                             â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/pulls                              â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/branches                           â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/contributors                       â”‚
â”‚  â€¢ GET /search/code?q={query}+repo:{owner}/{repo}              â”‚
â”‚  â€¢ GET /repos/{owner}/{repo}/contents/{path}                    â”‚
â”‚                                                                 â”‚
â”‚  Rate Limits:                                                   â”‚
â”‚  â€¢ Without token: 60 requests/hour                              â”‚
â”‚  â€¢ With token: 5,000 requests/hour                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ JSON Response
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  GitHub Repository Data                         â”‚
â”‚              https://github.com/Nusrath02/itchamps              â”‚
â”‚                                                                 â”‚
â”‚  â€¢ Repository metadata (stars, forks, issues)                   â”‚
â”‚  â€¢ Commit history                                               â”‚
â”‚  â€¢ Issues and pull requests                                     â”‚
â”‚  â€¢ Branch information                                           â”‚
â”‚  â€¢ Contributor statistics                                       â”‚
â”‚  â€¢ File contents                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### Example: User asks "Show recent commits"

```
1. User Input
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ User types: "Show recent    â”‚
   â”‚ commits" and clicks Send    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
2. Frontend Processing (chatbot.js)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Capture input             â”‚
   â”‚ â€¢ Display user message      â”‚
   â”‚ â€¢ Show loading animation    â”‚
   â”‚ â€¢ Call frappe.call()        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
3. API Call
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /api/method/           â”‚
   â”‚ itchamps.api.chatbot.       â”‚
   â”‚ get_response                â”‚
   â”‚                             â”‚
   â”‚ Payload:                    â”‚
   â”‚ { message: "Show recent     â”‚
   â”‚   commits" }                â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
4. Backend Processing (chatbot.py)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Check message for         â”‚
   â”‚   keywords: "commit" âœ“      â”‚
   â”‚ â€¢ Route to:                 â”‚
   â”‚   handle_github_query()     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
5. GitHub Helper (github_helper.py)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Create GitHubHelper()     â”‚
   â”‚ â€¢ Call get_commits(limit=5) â”‚
   â”‚ â€¢ Build request:            â”‚
   â”‚   GET /repos/Nusrath02/     â”‚
   â”‚   itchamps/commits          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
6. GitHub API Request
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET https://api.github.com/ â”‚
   â”‚ repos/Nusrath02/itchamps/   â”‚
   â”‚ commits?per_page=5          â”‚
   â”‚                             â”‚
   â”‚ Headers:                    â”‚
   â”‚ â€¢ Accept: application/      â”‚
   â”‚   vnd.github.v3+json        â”‚
   â”‚ â€¢ Authorization: token XXX  â”‚
   â”‚   (if configured)           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
7. GitHub API Response
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [                           â”‚
   â”‚   {                         â”‚
   â”‚     "sha": "1bb58bc...",    â”‚
   â”‚     "commit": {             â”‚
   â”‚       "message": "chabot ai"â”‚
   â”‚       "author": {...}       â”‚
   â”‚     },                      â”‚
   â”‚     "html_url": "..."       â”‚
   â”‚   },                        â”‚
   â”‚   ...                       â”‚
   â”‚ ]                           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
8. Format Response (github_helper.py)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ commits = []                â”‚
   â”‚ for commit in data:         â”‚
   â”‚   commits.append({          â”‚
   â”‚     "sha": commit["sha"][:7]â”‚
   â”‚     "message": commit[...]  â”‚
   â”‚     "author": ...           â”‚
   â”‚     "date": ...             â”‚
   â”‚   })                        â”‚
   â”‚ return commits              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
9. Build Markdown Response (chatbot.py)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ response = "**Recent        â”‚
   â”‚ Commits:**\n\n"             â”‚
   â”‚ for commit in commits:      â”‚
   â”‚   response += f"- **{sha}** â”‚
   â”‚   by {author}\n"            â”‚
   â”‚   response += f"  {message}"â”‚
   â”‚ return {"message": response}â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
10. Return to Frontend
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ {                           â”‚
   â”‚   "message": "**Recent      â”‚
   â”‚   Commits:**\n\n- **1bb58bc"â”‚
   â”‚   ...                       â”‚
   â”‚ }                           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
11. Render Response (chatbot.js)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Remove loading animation  â”‚
   â”‚ â€¢ Parse markdown to HTML    â”‚
   â”‚ â€¢ Create bot message bubble â”‚
   â”‚ â€¢ Display formatted responseâ”‚
   â”‚ â€¢ Scroll to bottom          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
12. User sees formatted result
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Recent Commits:             â”‚
   â”‚                             â”‚
   â”‚ â€¢ 1bb58bc by Nusrath02      â”‚
   â”‚   chabot ai                 â”‚
   â”‚   [2025-12-03](link)        â”‚
   â”‚                             â”‚
   â”‚ â€¢ 63cd8b0 by Nusrath02      â”‚
   â”‚   chat input                â”‚
   â”‚   [2025-12-03](link)        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure

```
itchamps/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ chatbot.py               â† Main chatbot logic
â”‚   â””â”€â”€ github_helper.py         â† GitHub API wrapper
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ chatbot.js           â† Frontend UI & logic
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ itchamps_theme.css   â† Styles
â”œâ”€â”€ hooks.py                     â† Frappe hooks (includes chatbot.js)
â”œâ”€â”€ README_GITHUB_SETUP.md       â† Setup instructions
â”œâ”€â”€ GITHUB_INTEGRATION_SUMMARY.mdâ† Integration summary
â”œâ”€â”€ ARCHITECTURE.md              â† This file
â”œâ”€â”€ test_github_integration.py   â† Test script
â””â”€â”€ install_github_integration.shâ† Installation script
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1. Authentication                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ @frappe.whitelist()                        â”‚      â”‚
â”‚     â”‚ â€¢ Requires user login                      â”‚      â”‚
â”‚     â”‚ â€¢ Session validation                       â”‚      â”‚
â”‚     â”‚ â€¢ CSRF protection                          â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â”‚  2. Authorization                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ frappe.session.user                        â”‚      â”‚
â”‚     â”‚ â€¢ User context                             â”‚      â”‚
â”‚     â”‚ â€¢ Role-based access                        â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â”‚  3. API Token Security                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ GitHub Token Storage                       â”‚      â”‚
â”‚     â”‚ â€¢ Stored in site_config.json               â”‚      â”‚
â”‚     â”‚ â€¢ NOT in code/version control              â”‚      â”‚
â”‚     â”‚ â€¢ Minimal scopes (public_repo only)        â”‚      â”‚
â”‚     â”‚ â€¢ Optional (works without token)           â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â”‚  4. Input Validation                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ Frontend (chatbot.js)                      â”‚      â”‚
â”‚     â”‚ â€¢ HTML escaping for user input             â”‚      â”‚
â”‚     â”‚ â€¢ XSS prevention                           â”‚      â”‚
â”‚     â”‚                                            â”‚      â”‚
â”‚     â”‚ Backend (chatbot.py)                       â”‚      â”‚
â”‚     â”‚ â€¢ Try-catch error handling                 â”‚      â”‚
â”‚     â”‚ â€¢ Input sanitization                       â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â”‚  5. Rate Limiting                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ GitHub API Limits                          â”‚      â”‚
â”‚     â”‚ â€¢ 60 req/hour (no token)                   â”‚      â”‚
â”‚     â”‚ â€¢ 5000 req/hour (with token)               â”‚      â”‚
â”‚     â”‚ â€¢ Timeout: 10 seconds                      â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â”‚  6. Error Handling                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ â€¢ All API calls wrapped in try-except      â”‚      â”‚
â”‚     â”‚ â€¢ Errors logged to Frappe error log        â”‚      â”‚
â”‚     â”‚ â€¢ User-friendly error messages             â”‚      â”‚
â”‚     â”‚ â€¢ No sensitive data in error messages      â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Technology Stack                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Frontend                                               â”‚
â”‚  â”œâ”€â”€ JavaScript (ES6+)                                  â”‚
â”‚  â”œâ”€â”€ Frappe Framework (frappe.call)                     â”‚
â”‚  â”œâ”€â”€ CSS3 (Flexbox, Animations)                         â”‚
â”‚  â””â”€â”€ Markdown Rendering (Custom Parser)                 â”‚
â”‚                                                         â”‚
â”‚  Backend                                                â”‚
â”‚  â”œâ”€â”€ Python 3.x                                         â”‚
â”‚  â”œâ”€â”€ Frappe Framework                                   â”‚
â”‚  â”œâ”€â”€ requests library                                   â”‚
â”‚  â””â”€â”€ REST API design                                    â”‚
â”‚                                                         â”‚
â”‚  External APIs                                          â”‚
â”‚  â””â”€â”€ GitHub REST API v3                                 â”‚
â”‚                                                         â”‚
â”‚  Infrastructure                                         â”‚
â”‚  â”œâ”€â”€ Frappe/ERPNext                                     â”‚
â”‚  â”œâ”€â”€ MariaDB/PostgreSQL                                 â”‚
â”‚  â””â”€â”€ Web Server (nginx/Apache)                          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Considerations

1. **Caching Strategy**: Currently direct API calls (future: implement Redis caching)
2. **Timeouts**: 10-second timeout on all GitHub API requests
3. **Rate Limiting**: Respects GitHub API rate limits
4. **Lazy Loading**: Chatbot UI loads on-demand, not on page load
5. **Async Operations**: JavaScript uses async/await for non-blocking UI

## Future Enhancements

1. **AI Integration**: Add OpenAI/Claude for natural language understanding
2. **Caching Layer**: Redis cache for GitHub responses
3. **Webhooks**: Real-time GitHub event notifications
4. **Actions**: Create issues/PRs from chatbot
5. **Multi-repository**: Support multiple GitHub repositories
6. **Analytics**: Track chatbot usage and popular queries
7. **Advanced Search**: Full-text search across repository
8. **Scheduled Updates**: Background sync of GitHub data
